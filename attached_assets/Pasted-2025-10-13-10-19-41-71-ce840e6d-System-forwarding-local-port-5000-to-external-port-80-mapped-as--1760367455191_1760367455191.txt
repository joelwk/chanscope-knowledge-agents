2025-10-13 10:19:41.71
ce840e6d
System
forwarding local port 5000 to external port 80 (mapped as 1104)
2025-10-13 10:19:41.88
ce840e6d
User
Starting Replit deployment startup...
2025-10-13 10:19:41.92
ce840e6d
User
Starting main API server on port 5000 with AUTO_CHECK_DATA=false...
2025-10-13 10:19:54.05
ce840e6d
User
2025-10-13 14:19:54 - [Worker-MainProcess] - root - INFO - Logging configuration applied successfully for worker MainProcess
2025-10-13 10:19:54.07
ce840e6d
User
2025-10-13 14:19:54 - [Worker-MainProcess] - root - INFO - Sensitive data filtering enabled for all loggers
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Attempting to load environment from: /home/runner/workspace/.env
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Detected Replit environment
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Detected Replit environment, loading [replit] section
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Found [replit] section with 15 lines
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Configuring Replit-specific settings
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Configuring Replit-specific environment variables
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Replit environment configured with ROOT_DATA_PATH=/home/runner/workspace/data
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Data retention settings: DATA_RETENTION_DAYS=5, FILTER_DATE=
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - Mock data is disabled in Replit environment
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - OPENAI_API_KEY loaded: sk-pr...iOQIA
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - AWS_ACCESS_KEY_ID loaded: AKIAY...WFN7Q
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - AWS_SECRET_ACCESS_KEY loaded: yb1a7...EKNRQ
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - ROOT_DATA_PATH loaded: /home/runner/workspace/data
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - STRATIFIED_PATH loaded: /home/runner/workspace/data/stratified
2025-10-13 10:19:55.48
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.env_loader - INFO - PATH_TEMP loaded: /home/runner/workspace/temp_files
2025-10-13 10:19:55.64
ce840e6d
User
2025-10-13 14:19:55 - [Worker-MainProcess] - config.storage - WARNING - Failed to apply Google Cloud Storage credentials patch: Can't instantiate abstract class Credentials with abstract method refresh
2025-10-13 10:19:59.72
ce840e6d
User
2025-10-13 14:19:59 - [Worker-MainProcess] - faiss.loader - INFO - Loading faiss with AVX512 support.
2025-10-13 10:20:00.12
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - faiss.loader - INFO - Successfully loaded faiss with AVX512 support.
2025-10-13 10:20:00.19
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - faiss - INFO - Failed to load GPU Faiss: name 'GpuIndexIVFFlat' is not defined. Will not load constructor refs for GPU indexes. This is only an error if you're trying to use GPU Faiss.
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Initialized ChanScopeConfig: ChanScopeConfig(env=replit, root_data_path=/home/runner/workspace/data, stratified_data_path=/home/runner/workspace/data/stratified, temp_path=/home/runner/workspace/temp_files, filter_date=, sample_size=2500, time_column=posted_date_time, embedding_batch_size=25, force_refresh=False, env_specific={'use_replit_db': True, 'use_object_storage': True, 'database_url': '***', 'pghost': 'ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech', 'pguser': 'neondb_owner', 'pgpassword': '***', 'replit_db_url': ''})
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Detected environment: replit
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.storage - INFO - Creating storage implementations for environment: replit
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - PostgreSQL DATABASE_URL is available
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - PostgreSQL individual connection parameters are available
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.storage - INFO - Initialized ReplitCompleteDataStorage with chunk_size=10000, time_column=posted_date_time, board_id=None
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - Retrieved REPLIT_DB_URL from /tmp/replitdb for deployment
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - REPLIT_DB_URL is available for Key-Value store operations
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - Initializing ChanScopeDataManager with config: ChanScopeConfig(env=replit, root_data_path=/home/runner/workspace/data, stratified_data_path=/home/runner/workspace/data/stratified, temp_path=/home/runner/workspace/temp_files, filter_date=, sample_size=2500, time_column=posted_date_time, embedding_batch_size=25, force_refresh=False, env_specific={'use_replit_db': True, 'use_object_storage': True, 'database_url': 'postgresql://neondb_owner:npg_mxUslfzNBM95@ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech/neondb?sslmode=require', 'pghost': 'ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech', 'pguser': 'neondb_owner', 'pgpassword': 'npg_mxUslfzNBM95', 'replit_db_url': 'https://kv.replit.com/v0/v2.public.Q2lSalpUZzBNR1UyWkMxak5qTTFMVFF3WWpFdFlqYzNOQzB5TlRBNVpUTmpabUZqT1dFU0NtcDNhMjl1YVhSNlpYSWFFME5vWVc1elkyOXdaUzFTWlhSeWFXVjJZV3dpQ1hKbGNHeHBkQzFyZGpJa01UVmpabU5rTVdFdE1qWXpZUzAwWXpGaExXSXlORGd0WlRJMFlXTmxaalJsWmpsak9NMzB2aEpDWUFva1lqQTJabVF3TnpndE5HVXdPQzAwWWpsbUxXSm1NMkV0T1dWbU1XVmtZVGN6TkdFMEVnbGphR0Z1YzJOdmNHVWFKR05sT0RRd1pUWmtMV00yTXpVdE5EQmlNUzFpTnpjMExUSTFNRGxsTTJObVlXTTVZU0lIWTNJdE5DMHhObUlBnQM1jbdjxfSt6S6s_Ba_5VA7Y2DYRueTe_49THVshibGrStMUih6RlT_VBn9qhGPe9htmRC2JaYThFSfOps5BQ.R0FFaUNHaGxhVzFrWVd4c0V2WUhkakl1Y0hWaWJHbGpMbEV5WkROVFZHUjNWWHBDTkdReGJGSmxTRXA0VjBoS1FsUldUa1ZSVjJzMVlWZEtObE5GU205Uk1ERXpWMjFXZWxGWWFIWlJNR1JDVmxkR1Mxb3lPWEpYVkVwV1RrVTFSVkZ0ZUU5aVZrWXdWMWh3V21Wck5WUk5SRUpPVWpCc05GUkdaRXBOTURVMlZWaFNUbUZzVmpOVU1XUldaV3hyZVZkdGFGcGxiWGh2VWpKa00xVXdUblJqUkU1b1RXcHNNVmxXYUZOT2JIQlpVMWRHUTFaSGNFOVBWWGN3VlRCa2JsTldiRVJoUnpsRVZGVkdSbUZWTlZoak0yeE5ZbXRKZUZkWE1UUmpSbXcxVGxob1YxTkdWVEJaTUdoclZFZEdXVlJxUm1waVZuQllWbXRrUjFVeGJGWmpSV2hxVmtad01sUXdVbE5oYkZaSVQxWkNZVlpWV2tkWlZFNXZZa1pzVm1KSVVscFdhMXBWV1c1d1MyRnVNMGx3TW1wbFpIaDJla2d3WXpFMk5qZGZVelZ6ZWpKV01qTnROVkpYUmtOUVNWWkRNa1Z1YjJaWWMxVmZOblJSWkRnMU9FRnVRVFpJV0Zsb1VVNXZVV3RYWW5CT1ExWTRlV3BKWXpaU09EaFhURzVCUlM1U01FWkdZVlZLZEZSdVdtbGlWRVp2V1cxb1RWbHJSblZYV0d4TlltdEplRmRYTVRSalJtdzFUbFpLVG1KV1NUSldWRVpyVFVkV2RGTnNXbFJpYmtKWFZtMHhORlV4VW5KVmJVWk9WbTVDVjFVeWRFOVdSbHBaWVVWV1ZtVnJTbkpWYWtFeFUxWkdjbE5zV2s1U2JIQlRWbTF3VDFsWFVsZGlNMmhUWWxkb1UxWnFTbTlrVmxaWVpFZDBhV0pGTlZoWmExWlBWbTFLVldKRlZsWmhhMHBJV2tkNGMxWnNTblZTYkVwWFZsaENTbFl5Y0VOak1XUnpVbXhvYUZOR2NGTlVWV1JUVVRGYVIxcEZaRkppVlZwSlYydFZlRlV3TVhSVmEzUlhUVlphVkZWVVNrcGtNVkp5WVVaS1YyRXhjSFpXVmxwcllqSktjMVJ1U21sVFJWcFlXVzEwZDFReGJGZFZiR1JPVFZoQ1NGZHJWakJoYXpGeVYyeHNWMUp0YUZoV1JFWmhaRWRXU1dOR1pGZGlWa3BKVmtaU1MxUXlUWGxUYWxwV1lYcHNXRlJYZUV0aU1WbDVUVlJTVkUxcldrZFVWbFpyVmtkS1JsZHNXbHBXZWtVd1YxWmFjMDVzUmxWU2JYQnBVbGhDTmxaRVJsZFpWMFY1VTJ4c1ZsWkZXbGRaYTFwaFkyeHdTR1ZGV214U2JrSkdWakl4ZDJGSFJYaGpSemxYWVd0YVZGVjZSazVsUmxwelUyeEdWMUpGU2pOV01uUmhWMjFPZEdORk1WQlhSVFI2V2tWV1drNVdjRVZTV0ZKcFlsUldVVlF3WkdGVmJVcFlZVVJLVkZKV2NIaFdhMVp5WkVkU1JXRkZjR2xpVm5CUlYwUkplRlpWTVhSWmVsSnFWMGhDUmxWclpGWk9SbHBGWWtaU2FFMVdTalpYYlhodllsZFdjbUo2UWxoV1ZURTJWMjF6ZDJWc1pGWk9XRXBVVmtkU1dWZFhhM2RPVmtweVZXMDVUMkZVUmt4VWFrazFVa1Y0YzFOWVpGTmhNWEJ2Vm14V2QwMUdXa2hPVjBab1ZqQndWbFZ0TURWWGJVcFlWV3BLVm1GcmNGQlZNVnBQWkZaa2RGSnNUbE5sYldjdw'})
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - Using provided storage implementations
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - ChanScopeDataManager initialization complete
2025-10-13 10:20:00.63
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Initialized ChanScopeDataManager for replit environment
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Configuring app for Replit environment
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.env_loader - INFO - Configuring Replit-specific environment variables
2025-10-13 10:20:00.64
ce840e6d
User
:128: RuntimeWarning: 'api.app' found in sys.modules after import of package 'api', but prior to execution of 'api.app'; this may result in unpredictable behaviour
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.env_loader - INFO - Replit environment configured with ROOT_DATA_PATH=/home/runner/workspace/data
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.env_loader - INFO - Data retention settings: DATA_RETENTION_DAYS=5, FILTER_DATE=
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.env_loader - INFO - Mock data is disabled in Replit environment
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Initialized ChanScopeConfig: ChanScopeConfig(env=replit, root_data_path=/home/runner/workspace/data, stratified_data_path=/home/runner/workspace/data/stratified, temp_path=/home/runner/workspace/temp_files, filter_date=, sample_size=2500, time_column=posted_date_time, embedding_batch_size=25, force_refresh=False, env_specific={'use_replit_db': True, 'use_object_storage': True, 'database_url': '***', 'pghost': 'ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech', 'pguser': 'neondb_owner', 'pgpassword': '***', 'replit_db_url': '***'})
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Detected environment: replit
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.storage - INFO - Creating storage implementations for environment: replit
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - PostgreSQL DATABASE_URL is available
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - PostgreSQL individual connection parameters are available
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.storage - INFO - Initialized ReplitCompleteDataStorage with chunk_size=10000, time_column=posted_date_time, board_id=None
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - config.replit - INFO - REPLIT_DB_URL is available for Key-Value store operations
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - Initializing ChanScopeDataManager with config: ChanScopeConfig(env=replit, root_data_path=/home/runner/workspace/data, stratified_data_path=/home/runner/workspace/data/stratified, temp_path=/home/runner/workspace/temp_files, filter_date=, sample_size=2500, time_column=posted_date_time, embedding_batch_size=25, force_refresh=False, env_specific={'use_replit_db': True, 'use_object_storage': True, 'database_url': 'postgresql://neondb_owner:npg_mxUslfzNBM95@ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech/neondb?sslmode=require', 'pghost': 'ep-dark-base-a5t6mxty.us-east-2.aws.neon.tech', 'pguser': 'neondb_owner', 'pgpassword': 'npg_mxUslfzNBM95', 'replit_db_url': 'https://kv.replit.com/v0/v2.public.Q2lSalpUZzBNR1UyWkMxak5qTTFMVFF3WWpFdFlqYzNOQzB5TlRBNVpUTmpabUZqT1dFU0NtcDNhMjl1YVhSNlpYSWFFME5vWVc1elkyOXdaUzFTWlhSeWFXVjJZV3dpQ1hKbGNHeHBkQzFyZGpJa01UVmpabU5rTVdFdE1qWXpZUzAwWXpGaExXSXlORGd0WlRJMFlXTmxaalJsWmpsak9NMzB2aEpDWUFva1lqQTJabVF3TnpndE5HVXdPQzAwWWpsbUxXSm1NMkV0T1dWbU1XVmtZVGN6TkdFMEVnbGphR0Z1YzJOdmNHVWFKR05sT0RRd1pUWmtMV00yTXpVdE5EQmlNUzFpTnpjMExUSTFNRGxsTTJObVlXTTVZU0lIWTNJdE5DMHhObUlBnQM1jbdjxfSt6S6s_Ba_5VA7Y2DYRueTe_49THVshibGrStMUih6RlT_VBn9qhGPe9htmRC2JaYThFSfOps5BQ.R0FFaUNHaGxhVzFrWVd4c0V2WUhkakl1Y0hWaWJHbGpMbEV5WkROVFZHUjNWWHBDTkdReGJGSmxTRXA0VjBoS1FsUldUa1ZSVjJzMVlWZEtObE5GU205Uk1ERXpWMjFXZWxGWWFIWlJNR1JDVmxkR1Mxb3lPWEpYVkVwV1RrVTFSVkZ0ZUU5aVZrWXdWMWh3V21Wck5WUk5SRUpPVWpCc05GUkdaRXBOTURVMlZWaFNUbUZzVmpOVU1XUldaV3hyZVZkdGFGcGxiWGh2VWpKa00xVXdUblJqUkU1b1RXcHNNVmxXYUZOT2JIQlpVMWRHUTFaSGNFOVBWWGN3VlRCa2JsTldiRVJoUnpsRVZGVkdSbUZWTlZoak0yeE5ZbXRKZUZkWE1UUmpSbXcxVGxob1YxTkdWVEJaTUdoclZFZEdXVlJxUm1waVZuQllWbXRrUjFVeGJGWmpSV2hxVmtad01sUXdVbE5oYkZaSVQxWkNZVlpWV2tkWlZFNXZZa1pzVm1KSVVscFdhMXBWV1c1d1MyRnVNMGx3TW1wbFpIaDJla2d3WXpFMk5qZGZVelZ6ZWpKV01qTnROVkpYUmtOUVNWWkRNa1Z1YjJaWWMxVmZOblJSWkRnMU9FRnVRVFpJV0Zsb1VVNXZVV3RYWW5CT1ExWTRlV3BKWXpaU09EaFhURzVCUlM1U01FWkdZVlZLZEZSdVdtbGlWRVp2V1cxb1RWbHJSblZYV0d4TlltdEplRmRYTVRSalJtdzFUbFpLVG1KV1NUSldWRVpyVFVkV2RGTnNXbFJpYmtKWFZtMHhORlV4VW5KVmJVWk9WbTVDVjFVeWRFOVdSbHBaWVVWV1ZtVnJTbkpWYWtFeFUxWkdjbE5zV2s1U2JIQlRWbTF3VDFsWFVsZGlNMmhUWWxkb1UxWnFTbTlrVmxaWVpFZDBhV0pGTlZoWmExWlBWbTFLVldKRlZsWmhhMHBJV2tkNGMxWnNTblZTYkVwWFZsaENTbFl5Y0VOak1XUnpVbXhvYUZOR2NGTlVWV1JUVVRGYVIxcEZaRkppVlZwSlYydFZlRlV3TVhSVmEzUlhUVlphVkZWVVNrcGtNVkp5WVVaS1YyRXhjSFpXVmxwcllqSktjMVJ1U21sVFJWcFlXVzEwZDFReGJGZFZiR1JPVFZoQ1NGZHJWakJoYXpGeVYyeHNWMUp0YUZoV1JFWmhaRWRXU1dOR1pGZGlWa3BKVmtaU1MxUXlUWGxUYWxwV1lYcHNXRlJYZUV0aU1WbDVUVlJTVkUxcldrZFVWbFpyVmtkS1JsZHNXbHBXZWtVd1YxWmFjMDVzUmxWU2JYQnBVbGhDTmxaRVJsZFpWMFY1VTJ4c1ZsWkZXbGRaYTFwaFkyeHdTR1ZGV214U2JrSkdWakl4ZDJGSFJYaGpSemxYWVd0YVZGVjZSazVsUmxwelUyeEdWMUpGU2pOV01uUmhWMjFPZEdORk1WQlhSVFI2V2tWV1drNVdjRVZTV0ZKcFlsUldVVlF3WkdGVmJVcFlZVVJLVkZKV2NIaFdhMVp5WkVkU1JXRkZjR2xpVm5CUlYwUkplRlpWTVhSWmVsSnFWMGhDUmxWclpGWk9SbHBGWWtaU2FFMVdTalpYYlhodllsZFdjbUo2UWxoV1ZURTJWMjF6ZDJWc1pGWk9XRXBVVmtkU1dWZFhhM2RPVmtweVZXMDVUMkZVUmt4VWFrazFVa1Y0YzFOWVpGTmhNWEJ2Vm14V2QwMUdXa2hPVjBab1ZqQndWbFZ0TURWWGJVcFlWV3BLVm1GcmNGQlZNVnBQWkZaa2RGSnNUbE5sYldjdw'})
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - Using provided storage implementations
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - knowledge_agents.data_processing.chanscope_manager - INFO - ChanScopeDataManager initialization complete
2025-10-13 10:20:00.64
ce840e6d
User
2025-10-13 14:20:00 - [Worker-MainProcess] - api - INFO - Initialized ChanScopeDataManager for replit environment
