run = "./scripts/replit/api.sh"
entrypoint = "api/app.py"
modules = ["python-3.11"]

[nix]
channel = "stable-23_11"

[env]
PYTHONPATH = "${REPL_HOME}"
FLASK_APP = "api.app"
FLASK_ENV = "development"
PYTHONUNBUFFERED = "1"

[deployment]
run = ["bash", "./scripts/replit/api.sh"]
build = ["poetry", "install"]
ignorePorts = false

[[ports]]
localPort = 5000
externalPort = 80

[[ports]]
localPort = 8000
externalPort = 8000

[languages.python3]
pattern = "**/*.py"
syntax = "python"

[languages.python3.languageServer]
start = "pylsp"
